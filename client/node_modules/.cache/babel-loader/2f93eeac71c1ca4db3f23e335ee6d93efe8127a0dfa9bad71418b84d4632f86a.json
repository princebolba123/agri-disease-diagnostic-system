{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,Link,useNavigate}from'react-router-dom';import'./css/NewDiseasePage.css';// Reusing the beautiful styles\nimport gramoralogo from'./images/gramoralogo.png';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const NewCropPage=()=>{const{categoryId}=useParams();const[crops,setCrops]=useState([]);const[categoryName,setCategoryName]=useState(\"\");const[loading,setLoading]=useState(true);const navigate=useNavigate();useEffect(()=>{fetch('http://localhost:5000/api/agriculture').then(res=>res.json()).then(data=>{if(data&&data.crop&&data.crop.cropType){const categoryKey=Object.keys(data.crop.cropType).find(key=>key.toLowerCase()===categoryId.toLowerCase());const categoryData=data.crop.cropType[categoryKey];if(categoryData&&categoryData.crops){setCategoryName(categoryData.cropTypeName);setCrops(Object.values(categoryData.crops));}}setLoading(false);}).catch(err=>{console.error(\"Fetch error:\",err);setLoading(false);});},[categoryId]);if(loading)return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-screen\",children:[\"Loading \",categoryId,\" Gallery...\"]});return/*#__PURE__*/_jsxs(\"div\",{className:\"impact-page-wrapper\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"impact-nav\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"impact-nav-content\",children:[/*#__PURE__*/_jsx(\"img\",{src:gramoralogo,alt:\"Gramora\",className:\"impact-logo\",onClick:()=>navigate('/')}),/*#__PURE__*/_jsx(\"div\",{className:\"system-status\",children:\"\\u25CF GRAMORA CROP DATABASE\"})]})}),/*#__PURE__*/_jsx(\"section\",{className:\"disease-hero\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"hero-gradient-box\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),className:\"hero-corner-back\",children:\"\\u2190 Home\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"hero-text-content\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"hero-tag\",children:[\"Season: \",categoryId]}),/*#__PURE__*/_jsxs(\"h1\",{className:\"hero-title\",children:[categoryName||categoryId,\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Crops\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"hero-subtitle\",children:[\"Browse the official list of \",/*#__PURE__*/_jsx(\"strong\",{children:categoryName}),\" crops. Select a crop to check for diseases, health issues, and treatment guides.\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hero-stats\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"stat-circle\",children:[/*#__PURE__*/_jsx(\"strong\",{children:crops.length}),/*#__PURE__*/_jsx(\"span\",{children:\"Species\"})]})})]})}),/*#__PURE__*/_jsxs(\"section\",{className:\"disease-grid-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Select your crop:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"header-line\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"impact-disease-grid\",children:crops.length>0?crops.map((crop,index)=>/*#__PURE__*/_jsxs(Link,{to:\"/category/\".concat(categoryId,\"/\").concat(crop.name),className:\"impact-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"impact-card-img-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:crop.image||\"https://placehold.co/600x400?text=Crop+Image\",alt:crop.name}),/*#__PURE__*/_jsx(\"div\",{className:\"impact-card-overlay\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Explore Diseases\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"impact-card-body\",children:[/*#__PURE__*/_jsx(\"h3\",{children:crop.name}),/*#__PURE__*/_jsx(\"p\",{style:{fontStyle:'italic',color:'#1a4d2e',marginBottom:'10px'},children:crop.botanical||\"Botanical Species\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-divider\"}),/*#__PURE__*/_jsx(\"div\",{className:\"impact-card-footer\",children:/*#__PURE__*/_jsx(\"span\",{className:\"treatment-badge\",children:\"View Health Report \\u2192\"})})]})]},index)):/*#__PURE__*/_jsxs(\"div\",{className:\"no-data-card\",style:{gridColumn:'1/-1',textAlign:'center',padding:'50px'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"No crops found in this category.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please check your database connection.\"})]})})]})]});};export default NewCropPage;","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","useNavigate","gramoralogo","jsxs","_jsxs","jsx","_jsx","NewCropPage","categoryId","crops","setCrops","categoryName","setCategoryName","loading","setLoading","navigate","fetch","then","res","json","data","crop","cropType","categoryKey","Object","keys","find","key","toLowerCase","categoryData","cropTypeName","values","catch","err","console","error","className","children","src","alt","onClick","length","map","index","to","concat","name","image","style","fontStyle","color","marginBottom","botanical","gridColumn","textAlign","padding"],"sources":["C:/Users/PRINCE KUMAR/OneDrive/Desktop/gramoraa/client/src/NewCropPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, Link, useNavigate } from 'react-router-dom';\r\nimport './css/NewDiseasePage.css'; // Reusing the beautiful styles\r\nimport gramoralogo from './images/gramoralogo.png';\r\n\r\nconst NewCropPage = () => {\r\n  const { categoryId } = useParams();\r\n  const [crops, setCrops] = useState([]);\r\n  const [categoryName, setCategoryName] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:5000/api/agriculture')\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if (data && data.crop && data.crop.cropType) {\r\n          const categoryKey = Object.keys(data.crop.cropType).find(\r\n            key => key.toLowerCase() === categoryId.toLowerCase()\r\n          );\r\n\r\n          const categoryData = data.crop.cropType[categoryKey];\r\n          \r\n          if (categoryData && categoryData.crops) {\r\n            setCategoryName(categoryData.cropTypeName);\r\n            setCrops(Object.values(categoryData.crops));\r\n          }\r\n        }\r\n        setLoading(false);\r\n      })\r\n      .catch(err => {\r\n        console.error(\"Fetch error:\", err);\r\n        setLoading(false);\r\n      });\r\n  }, [categoryId]);\r\n\r\n  if (loading) return <div className=\"loading-screen\">Loading {categoryId} Gallery...</div>;\r\n\r\n  return (\r\n    <div className=\"impact-page-wrapper\">\r\n      {/* Top Navbar */}\r\n      <header className=\"impact-nav\">\r\n        <div className=\"impact-nav-content\">\r\n          <img \r\n            src={gramoralogo} \r\n            alt=\"Gramora\" \r\n            className=\"impact-logo\" \r\n            onClick={() => navigate('/')} \r\n          />\r\n          <div className=\"system-status\">● GRAMORA CROP DATABASE</div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Hero Banner Section */}\r\n      <section className=\"disease-hero\">\r\n        <div className=\"hero-gradient-box\">\r\n          {/* Back Button on Top Left of Banner */}\r\n          <button onClick={() => navigate('/')} className=\"hero-corner-back\">\r\n            ← Home\r\n          </button>\r\n\r\n          <div className=\"hero-text-content\">\r\n            <span className=\"hero-tag\">Season: {categoryId}</span>\r\n            <h1 className=\"hero-title\">{categoryName || categoryId} <span>Crops</span></h1>\r\n            <p className=\"hero-subtitle\">\r\n              Browse the official list of <strong>{categoryName}</strong> crops. \r\n              Select a crop to check for diseases, health issues, and treatment guides.\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"hero-stats\">\r\n            <div className=\"stat-circle\">\r\n              <strong>{crops.length}</strong>\r\n              <span>Species</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Crop Grid Section */}\r\n      <section className=\"disease-grid-section\">\r\n        <div className=\"grid-header\">\r\n          <h2>Select your crop:</h2>\r\n          <div className=\"header-line\"></div>\r\n        </div>\r\n\r\n        <div className=\"impact-disease-grid\">\r\n          {crops.length > 0 ? (\r\n            crops.map((crop, index) => (\r\n              <Link \r\n                to={`/category/${categoryId}/${crop.name}`} \r\n                key={index} \r\n                className=\"impact-card\"\r\n              >\r\n                <div className=\"impact-card-img-container\">\r\n                  <img \r\n                    src={crop.image || \"https://placehold.co/600x400?text=Crop+Image\"} \r\n                    alt={crop.name} \r\n                  />\r\n                  <div className=\"impact-card-overlay\">\r\n                    <span>Explore Diseases</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"impact-card-body\">\r\n                  <h3>{crop.name}</h3>\r\n                  <p style={{fontStyle: 'italic', color: '#1a4d2e', marginBottom: '10px'}}>\r\n                    {crop.botanical || \"Botanical Species\"}\r\n                  </p>\r\n                  <div className=\"card-divider\"></div>\r\n                  <div className=\"impact-card-footer\">\r\n                    <span className=\"treatment-badge\">View Health Report →</span>\r\n                  </div>\r\n                </div>\r\n              </Link>\r\n            ))\r\n          ) : (\r\n            <div className=\"no-data-card\" style={{gridColumn: '1/-1', textAlign: 'center', padding: '50px'}}>\r\n              <h3>No crops found in this category.</h3>\r\n              <p>Please check your database connection.</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewCropPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}